#dim_addresses
#dim_shipping_service
#dim_status
#dim location
#dim_customers
#dim products
#dim_promos

#dim_date

# falta dim_sales_orders
# falta fact_sales_order_details

version: 2

models:
  - name: dim_addresses
    description: a dimensional table who shows addresses information from the users/customers who did orders or interact with the company.
    columns:
      - name: address_sk
        description: a system generated surrogate key, business agnostic primary key column. Ensure that we 'own the keys' from our models and allow us to improve joins to another tables.
        tests:
          - unique
          - not_null
          
      - name: address_id
        description: a primary key from our source database.
        tests:
          - unique
          - not_null
          
      - name: country
        description: the country where an address is located.

      - name: state
        description: the state where an address is located.

      - name: zipcode
        description: the zipcode where an address is located.

      - name: address
        description: the address (street, number, apartment_no,...) of an user/customer.




  - name: dim_shipping_service
    description: ""
    columns:
      - name: shipping_service_sk
        data_type: varchar
        description: ""

      - name: shipping_service
        data_type: varchar
        description: ""



  - name: dim_status
    description: ""
    columns:
      - name: status_sk
        data_type: varchar
        description: ""

      - name: status
        data_type: varchar
        description: ""


        

  - name: dim_location
    description: a dimensional table who shows unique states.
    columns:
      - name: state_sk
        description: a system generated surrogate key, business agnostic primary key column. Ensure that we 'own the keys' from our models and allow us to improve joins to another tables.
        tests:
          - unique
          - not_null
      - name: state
        description: the states names.






  - name: dim_customers
    description: a dimensional table who shows the users/customers and the respective information for each one.
    columns:
      - name: user_sk
        data_type: varchar
        description: user surrogate key from the table stg_users.
        tests:
          - unique
          - not_null


      - name: user_id
        data_type: varchar
        description: user_id from the table stg_users.


      - name: address_sk
        data_type: varchar
        description: addresses surrogate key from the table dim_addresses.
        tests:
          - relationships:
              to: ref('dim_addresses')
              field: address_sk

      - name: full_name
        data_type: varchar
        description: the full name of the customer. It is a concatenation from 'first_name' and 'last_name' columns.

      - name: email
        data_type: varchar
        description: the email of a user/customer.

      - name: phone_number
        data_type: varchar
        description: the phone number of a user/customer.

      - name: created_at_utc
        data_type: date
        description: the timestamp this record was created.

      - name: updated_at_utc
        data_type: date
        description: the timestamp this record was updated.

      - name: date_load
        data_type: timestamp_tz
        description: shows the timestamp in which a record was loaded to the source table.





  - name: dim_products
    description: ""
    columns:
      - name: product_sk
        data_type: varchar
        description: ""

      - name: product_id
        data_type: varchar
        description: ""

      - name: product_name
        data_type: varchar
        description: ""

      - name: product_price_usd
        data_type: number
        description: ""

      - name: inventory
        data_type: number
        description: ""





  - name: dim_promos
    description: ""
    columns:
      - name: promo_sk
        data_type: varchar
        description: ""

      - name: promo_id
        data_type: varchar
        description: ""

      - name: promo_discount
        data_type: float
        description: ""

      - name: promo_status
        data_type: varchar
        description: ""

      - name: date_load
        data_type: timestamp_tz
        description: ""






  - name: dim_date
    description: ""
    columns:
      - name: date_day
        data_type: date
        description: ""

      - name: prior_date_day
        data_type: date
        description: ""

      - name: next_date_day
        data_type: date
        description: ""

      - name: prior_year_date_day
        data_type: date
        description: ""

      - name: prior_year_over_year_date_day
        data_type: date
        description: ""

      - name: day_of_week
        data_type: number
        description: ""

      - name: day_of_week_iso
        data_type: number
        description: ""

      - name: day_of_week_name
        data_type: varchar
        description: ""

      - name: day_of_week_name_short
        data_type: varchar
        description: ""

      - name: day_of_month
        data_type: number
        description: ""

      - name: day_of_year
        data_type: number
        description: ""

      - name: week_start_date
        data_type: date
        description: ""

      - name: week_end_date
        data_type: date
        description: ""

      - name: prior_year_week_start_date
        data_type: date
        description: ""

      - name: prior_year_week_end_date
        data_type: date
        description: ""

      - name: week_of_year
        data_type: number
        description: ""

      - name: iso_week_start_date
        data_type: date
        description: ""

      - name: iso_week_end_date
        data_type: date
        description: ""

      - name: prior_year_iso_week_start_date
        data_type: date
        description: ""

      - name: prior_year_iso_week_end_date
        data_type: date
        description: ""

      - name: iso_week_of_year
        data_type: number
        description: ""

      - name: prior_year_week_of_year
        data_type: number
        description: ""

      - name: prior_year_iso_week_of_year
        data_type: number
        description: ""

      - name: month_of_year
        data_type: number
        description: ""

      - name: month_name
        data_type: varchar
        description: ""

      - name: month_name_short
        data_type: varchar
        description: ""

      - name: month_start_date
        data_type: date
        description: ""

      - name: month_end_date
        data_type: date
        description: ""

      - name: prior_year_month_start_date
        data_type: date
        description: ""

      - name: prior_year_month_end_date
        data_type: date
        description: ""

      - name: quarter_of_year
        data_type: number
        description: ""

      - name: quarter_start_date
        data_type: date
        description: ""

      - name: quarter_end_date
        data_type: date
        description: ""

      - name: year_number
        data_type: number
        description: ""

      - name: year_start_date
        data_type: date
        description: ""

      - name: year_end_date
        data_type: date
        description: ""